// room script file

Dictionary* SpokenStrings;
String keys[];
int key_count;
void SayB(this Character*, String text){
  if(!SpokenStrings.Contains(text)) {
    SpokenStrings.Set(text, text);
    keys = SpokenStrings.GetKeysAsArray();
    key_count = SpokenStrings.ItemCount;
  }
  
  this.Say(SpokenStrings.Get(text));
}



function room_RepExec()
{   
  AgsImGui.NewFrame();  
  AgsImGui.BeginWindow("My own window");

  if(key_count>0){
    for(int i=0; i < key_count; i++){
      AgsImGui.Text(keys[i]);
      
      //String result = AgsImGui.InputText(String.Format("%d",i), SpokenStrings.Get(keys[i]));
      if(AgsImGui.IsItemEdited()){
       // SpokenStrings.Set(keys[i], result);
      }
    }
  }
  
  AgsImGui.EndWindow();
  AgsImGui.Render();
}

function room_Load()
{
  Game.Camera.Width = 320;
  Game.Camera.Height = 200;
  Screen.Viewport.Width = 960;
  Screen.Viewport.Height = 600;
  SpokenStrings = Dictionary.Create(eSorted, eCaseSensitive);
}

function room_AfterFadeIn()
{

}



void on_mouse_click (int btn){
  if(btn == eMouseWheelNorth){
    AgsImGui.DoMouseWheel(eImGuiDir_Down);
  } else if(btn == eMouseWheelSouth){
    AgsImGui.DoMouseWheel(eImGuiDir_Up);    
  }  
}

function oObject0_Talk()
{
  player.SayB("Who are you?");
  cNeutralBot.SayB("I am the Neutral Bot!");
}
