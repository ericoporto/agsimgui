// room script file

Overlay* ov;

String a_string;
int number;
function room_RepExec()
{
  number++;
  if(a_string == null) a_string = "Test String";
  
  AgsImGui.NewFrame();
  
  {
    AgsImGui.BeginWindow("My own window", false, eImGuiWindowFlags_MenuBar);
    if(AgsImGui.BeginMenuBar()){
      if(AgsImGui.BeginMenu("File")){
        AgsImGui.MenuItem("A menu item","");
        AgsImGui.EndMenu();
      }
      AgsImGui.EndMenuBar();
    }
    
    AgsImGui.Text(String.Format("sum is = %d", number));
    AgsImGui.Button("Test Button",0, 0);

    if(AgsImGui.BeginCombo("A combo test","click me!")){
      AgsImGui.Selectable("Option 1");
      AgsImGui.Selectable("Option 2");
      AgsImGui.Selectable("Option 3");
      AgsImGui.EndCombo();
    }
    
    if(AgsImGui.BeginListBox("A list box!", 5)){
      AgsImGui.Text("text at list 1");
      AgsImGui.Button("button at list 2");
      AgsImGui.Selectable("selectable at list 3");
      AgsImGui.EndListBox();
    }
    AgsImGui.EndWindow();
  }
  
  AgsImGui.Render();
  
  if(ov != null) {
    ov.Remove();
    ov = null;
  }
  
  ov = Overlay.CreateGraphical(0, 0, AgsImGui.GetDrawData(), true);
}

function room_Leave()
{

}

function room_Load()
{
  Game.Camera.Width = 320;
  Game.Camera.Height = 200;
  Screen.Viewport.Width = 960;
  Screen.Viewport.Height = 600;
}
